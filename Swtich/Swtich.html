<!DOCTYPE html>
<html lang="en">

<head>
    <title>落尘文学</title>
    <meta name="keywords" content="落尘文学,小说排行榜,小说排行,手机阅读" />
    <meta name="description" content="落尘文学提供恐怖小说、灵异小说、玄幻小说、武侠小说、都市小说等小说在线阅读、手机阅读。" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="format-detection" content="telephone=no" />
    <link rel="stylesheet" type="text/css" href="css/common.css"/>
    <style>
        .change{border-bottom: 1px solid #e8e8e8;}
        .change .change-item{flex: 1;-webkit-flex: 1;-webkit-box-flex: 1;height: 3rem;background-color: #650909;color: #b38181;}
        .change .active{background-color: #ede2e2;color: #333;}
    </style>
</head>
<body>
<div class="open">
    <ul class="change flex" id="Change">
        <li class="change-item flex flex-center flex-box active">
            1
        </li>
        <li class="change-item flex flex-center flex-box">
            2
        </li>
        <li class="change-item flex flex-center flex-box">
            3
        </li>
    </ul>
</div>
<script type="text/javascript">
    var Change=document.getElementById("Change"),
        items=Change.getElementsByTagName('li'),
        arr=[];
    Change.addEventListener("click",function(e){
        for(var i=0;i<items.length;i++){
            e.target.parentElement.children[i].classList.remove("active");
        }
        e.target.classList.add('active');
    },false);

    //运用了js中的工厂模式
    var tabs=window.tabs||{};
        tabs=(function(){
            var getElem=function(obj){//获取当前主要盒子父级
                return  typeof obj.id==='string'?document.getElementById(obj.id):obj.id;
            };
            var getSubElem=function(parent,elem){//当前没有传入父级元素时就直接在document中查找
                return (parent||document).getElementsByTagName(elem);
            };
            var bindE=function(obj,indexs){
                var subLen=getSubElem();
                obj.addEventListener("click",function(e){
                    for(var i=0;i<subLen.length;i++){
                        e.target.parentElement.children[i].classList.remove(indexs);
                    }
                    e.target.classList.add(indexs);
                },false)
            };
        function Tab(){

        };
        Tab.prototype.init=function(){

        };
        Tab.prototype.bindEvent=function(){

        };
    })();









































    //解耦不和页面中的某个元素有太多关联
    function superElem(id){
        return typeof id==="string" ? document.getElementById(id):id;
    }


//    function $(id){//定义父级元素类型和存在否
//        return typeof id === "string" ? document.getElementById(id) : id;
//    }
//    function $$(oParent, elem){//获取父级元素下面的子级元素
//        return (oParent || document).getElementsByTagName(elem);
//    }
//    function $$$(oParent, sClass){//获取子级元素的class名
//        var aElem = $$(oParent, '*');
//        var aClass = [];
//        var i = 0;
//        for(i=0;i<aElem.length;i++)if(aElem[i].className == sClass)aClass.push(aElem[i]);
//        return aClass;
//    }
//    function addEvent(oElm, strEvent, fuc) {//给元素添加事件的监听兼容写法
//        window.addEventListener ? oElm.addEventListener(strEvent, fuc, false) : oElm.attachEvent('on' + strEvent, fuc);
//    };
//    function Tab(){//切换构造函数
//        this.initialize.apply(this, arguments);
//    }
//    Object.extend = function(destination, source) {
//        for (var property in source) {
//            destination[property] = source[property];
//        }
//        return destination;
//    };
//    Tab.prototype = {
//        initialize : function(obj, dis, content, onEnd, eq){//初始化
//            this.obj = $(obj);
//            this.oList = $$$(this.obj, 'list')[0];
//            this.aCont = $$$(this.obj, content);
//            this.oUl = $$(this.oList, 'ul')[0];
//            this.aLi = this.oUl.children;
//            this.timer = null;
//            eq ? (this.aLi.length < eq ? eq = 0 : eq) : eq = 0;
//            this.oEve(onEnd);
//            this.onEnd.method == 'mouseover' ? this.method = "mouseover" : this.method = "click";
//            this.onEnd.autoplay == 'stop' ? this.autoplay = "stop" : this.autoplay = "play";
//            this.aCont[eq].style.display = 'block';
//            this.aLi[eq].className = 'hove';
//            this.display(dis);
//            this.autoPlayTab(eq, dis);
//        },
//        oEve: function(onEnd){
//            this.onEnd = {
//                method: 'mouseover',
//                autoplay: 'stop',
//            };
//            Object.extend(this.onEnd, onEnd || {});
//        },
//        display : function(dis){
//            var _this = this;
//            var i = iNow = 0;
//            for(i=0;i<this.aLi.length;i++){
//                (function(){
//                    var j = i;
//                    addEvent(_this.aLi[j], _this.method,
//                        function() {
//                            _this.fnClick(j,dis);
//                            _this.autoPlayTab(j, dis);
//                        })
//                })()
//            }
//        },
//        autoPlayTab : function(iNow, dis){
//            if(this.autoplay == 'play'){
//                var _this = this;
//                this.iNow = iNow;
//                this.obj.onmouseover = function(){
//                    clearInterval(_this.timer);
//                };
//                this.obj.onmouseout = function(){
//                    clearInterval(_this.timer);
//                    _this.timer = setInterval(playTab,5000);
//                };
//                clearInterval(_this.timer);
//                _this.timer = setInterval(playTab,5000);
//                function playTab(){
//                    if(_this.iNow == _this.aLi.length)_this.iNow = 0;
//                    _this.fnClick(_this.iNow, dis)
//                    _this.iNow++
//                }
//            }
//        },
//        fnClick : function(oBtn, dis){
//            var i = 0;
//            for(i=0;i<this.aLi.length;i++)this.aLi[i].className = '',this.aCont[i].style.display = 'none';
//            this.aLi[oBtn].className = dis;
//            this.aCont[oBtn].style.display = 'block';
//        }
//    };
//    window.onload = function(){
//        new Tab("box", 'hove', 'content', {
//            method : 'mouseover',
//            autoplay : 'play'
//        },0);
//        new Tab("box1", 'hove', 'content', {
//            method : 'click',
//        },0);
//    };
</script>
</body>
</html>